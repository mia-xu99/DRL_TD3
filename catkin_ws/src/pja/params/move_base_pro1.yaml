shutdown_costmaps: false
controller_frequency: 20
planner_patience: 5
controller_patience: 5
conservative_reset_dist: 5
planner_frequency: 1
oscillation_timeout: 10
oscillation_distance: 0.2
max_planning_retries: 10
clearing_radius: 0.3
clearing_rotation_allowed: false
make_plan_clear_costmap: false

GlobalPlanner:
  use_dijkstra: false
  allow_unknown: true
  # orientation_window_size: 100
  use_grid_path: true
  default_tolerance: 5
  neutral_cost: 2
  lethal_cost: 250
  # orientation_mode: 3
  
local_costmap:
  global_frame: map
  robot_base_frame: base_footprint

  update_frequency: 5
  publish_frequency: 5.0
  transform_tolerance: 0.5

  static_map: false  
  rolling_window: true
  width: 10
  height: 10
  resolution: 0.05
  track_unknown_space: true
  trinary_costmap: false
  inscribed_radius: 0.2
  circumscribed_radius: 0.3



global_costmap:
  global_frame: map
  robot_base_frame: base_footprint

  update_frequency: 5
  publish_frequency: 5.0
  transform_tolerance: 3

  static_map: true
  # static_map: false
  rolling_window: false
  width: 100
  height: 100
  resolution: 0.05
  origin_x: -25
  origin_y: -25
  track_unknown_space: true
  # trinary_costmap: false

  # combination_method: 1

# trinary_costmap: true
track_unknown_space: true

obstacle_range: 5.5
raytrace_range: 6.5

footprint: [ [ -0.35, -0.3 ], [ -0.35, 0.3 ], [ 0.35, 0.3 ], [ 0.35, -0.3 ] ]
# robot_radius: 0.5



map_type: costmap
observation_sources:  velodyne scan
#scan: {sensor_frame: base_scan, data_type: LaserScan, topic: scan, marking: true, clearing: true}
scan: {
  min_obstacle_height: -0.5,
  max_obstacle_height: 1.3,
  # expected_update_rate: 0.5,
        #  observation_persistence: 0.3,
  data_type: PointCloud2, topic: os_cloud_node/points,
  marking: false,
  clearing: true
}

velodyne: {
  min_obstacle_height: 0.15,
  max_obstacle_height: 1.3,
  #  expected_update_rate: 0.3,
  observation_persistence: 2,
  data_type: PointCloud2, topic: os_cloud_node/points,
   marking: true,
  clearing: false
}

static_layer:
  lethal_cost_threshold: 75
  # trinary_costmap: false
  track_unknown_space_: true


inflation_layer:
  inflation_radius: 0.85
  cost_scaling_factor: 0.5


# recovery_behaviors:
#   - {name: conservative_reset, type: clear_costmap_recovery/ClearCostmapRecovery} 
#   #- {name: rotate_recovery, type: rotate_recovery/RotateRecovery} 
#   - {name: aggressive_reset, type: clear_costmap_recovery/ClearCostmapRecovery}



DWAPlannerROS:

# Robot Configuration Parameters
  max_vel_x: 0.6
  min_vel_x: -0.6

  max_vel_y: 0.0
  min_vel_y: 0.0

# The velocity when robot is moving in a straight line
  max_vel_trans:  5
  min_vel_trans:  0.1

  max_vel_theta: 3
  min_vel_theta: 0.5

  acc_lim_x: 1
  acc_lim_y: 0.0
  acc_lim_theta: 1

# Goal Tolerance Parametes
  xy_goal_tolerance: 0.2
  yaw_goal_tolerance: 0.3
  latch_xy_goal_tolerance: true

# Forward Simulation Parameters
  sim_time: 1
  vx_samples: 15
  vy_samples: 0
  vth_samples: 30
  controller_frequency: 1
  angular_sim_granularity: 0.05

# Trajectory Scoring Parameters
  path_distance_bias: 10
  goal_distance_bias: 3
  occdist_scale: 0.05
  forward_point_distance: 0   
  stop_time_buffer: 0
  scaling_speed: 0.25
  max_scaling_factor: 0.2
  twirling_scale: 0.0
# Oscillation Prevention Parameters
  oscillation_reset_dist: 0.0

# Debugging
  # publish_traj_pc: false
  # publish_cost_grid: false
  publish_traj_pc: true
  publish_cost_grid_pc: true
  use_dwa: true
  # prune_plan: true




TrajectoryPlannerROS:

# Robot Configuration Parameters
  max_vel_x: 1
  min_vel_x: 0.1

  max_vel_y: 0.0
  min_vel_y: 0.0

# The velocity when robot is moving in a straight line
  max_vel_trans:  5
  min_vel_trans:  0.1

  max_vel_theta: 4
  min_vel_theta: -4
  max_rotational_vel: 4


  min_in_place_vel_theta: 0.2
  escape_vel: -0.2
  acc_lim_x: 2
  acc_lim_y: 0.0
  acc_lim_theta: 5
  holonomic_robot: false

# Goal Tolerance Parametes
  xy_goal_tolerance: 0.3
  yaw_goal_tolerance: 0.3
  latch_xy_goal_tolerance: false

# Forward Simulation Parameters
  sim_time: 1.5
  vx_samples: 10
  vy_samples: 0
  vth_samples: 30
  controller_frequency: 5
  # angular_sim_granularity: 0.05

# Trajectory Scoring Parameters
  meter_scoring: true
  path_distance_bias: 5
  goal_distance_bias: 3
  occdist_scale: 2
  forward_point_distance: 0.9 #xiugai
  stop_time_buffer: 0.2

  scaling_speed: 0.25
  max_scaling_factor: 0.2

  twirling_scale: 0.1
  dwa: true
# Oscillation Prevention Parameters
  oscillation_reset_dist: 0.05
  escape_reset_dist: 0.05

  heading_lookahead: 0.325
  heading_scoring: false
  heading_scoring_timestep: 0.6


# Debugging
  # publish_traj_pc: false
  # publish_cost_grid: false
  publish_traj_pc: true
  publish_cost_grid_pc: true
  use_dwa: true
  # prune_plan: true



